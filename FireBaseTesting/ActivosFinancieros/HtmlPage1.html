<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>

    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css" rel="stylesheet">

    <script>
        $(document).ready(function () {
            
            document.getElementById('hmensaje').innerHTML = "Cargando información, por favor espere...";
   
            try {
                $.ajax({
                    type: "POST",
                    url: "Activos.ashx?Action=ResultadosDetalleList&id=d2d9a1c1-1683-4139-9f24-e77ca2e99d36",
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (data) {

                        var exists = false;
                        var count = 0;
               

              

                        $.each(data, function (index, item) {
                            exists = true;

                   

                            $('#example').append("<tr>  <td style='text-align:center;'>" + item.Senal + "</td><td style='text-align:center;'>" + item.Cantidaddedias + "</td><td style='text-align:center;'>" + item.Cantidadediasfueradelmercado + "</td> <td style='text-align:center;'>" + item.Cantidaddediasdentrodelmercado + "</td> <td style='text-align:center;'>" + item.CantidadtotaldeOperaciones + "</td> <td style='text-align:center;'>" + item.CantidadtotaldeOPGanadoras + "</td> <td style='text-align:center;'>" + item.CantidadtotaldeOPPerdedoras + "</td> <td style='text-align:center;'>" + item.GananciaMaxima + "</td> <td style='text-align:center;'>" + item.PerdidaMaxima + "</td> <td style='text-align:center;'>" + item.PerformanceTotal + "</td> <td style='text-align:center;'>" + item.PerformanceAnualizada + "</td>  <td style='text-align:center;'>" + item.PerformanceBuyAndHold + "</td>  <td style='text-align:center;'>" + item.PerformanceBuyAndHoldAnualizada + "</td>  <td style='text-align:center;'>" + item.EM + "</td> <td style='text-align:center;'>" + item.RachaGanadora + "</td> <td style='text-align:center;'>" + item.RachaPerdedora + "</td> </tr>");
                   
                        });

                
                        document.getElementById('hmensaje').innerHTML = "";
                        $("#example").DataTable();
                        // $('#example').DataTable();


                    },
                    failure: function (r) {
                        document.getElementById('hmensaje').innerHTML = "";
                        swal('Error:', 'No podemos cargar los datos en este momento, por favor verifique si está conectado correctamente al centro de datos', 'error');
                        return false;
                    },
                    error: function (r) {
                        document.getElementById('hmensaje').innerHTML = "";
                        swal('Error:', 'No podemos cargar los datos en este momento, por favor verifique si está conectado correctamente al centro de datos', 'error');
                        return false;
                    }

                });

            }
            catch (err) {
                swal('Error:', 'No podemos cargar tus datos en este momento', 'error');
                return false;
            }

                 
        });
        $('#example').DataTable();

    </script>
</head>
<body>

    <h3 id="hmensaje" style="color:#ff6a00"></h3>
    <div style="overflow-x:auto;">
        <table id="example" class="table table-striped table-bordered" style="width:100%;margin:auto;">
            <thead>
                <tr>
                    <th>Señal</th>
                    <th>C.días</th>
                    <th>Días.fuera</th>
                    <th>Días.dentro</th>
                    <th>Cant.total.OP</th>
                    <th>Cant.total.OP.Ganadoras</th>
                    <th>Cant.total.OP.Perdedoras</th>

                    <th>Ganancia.Máxima</th>
                    <th>Perdida.Máxima</th>
                    <th>Perf.Total</th>
                    <th>Perf.Anualizada</th>
                    <th>Perf.Buy&Hold</th>
                    <th>Perf.Buy&Hold.Anualizada</th>

                    <th>EM</th>
                    <th>Racha.Ganadora</th>
                    <th>Racha.Perdedora</th>


                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>

                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>

                    <td></td>
                    <td></td>
                    <td></td>


                </tr>

            </tbody>
            <tfoot>
                <tr>
                    <th>Señal</th>
                    <th>C.días</th>
                    <th>Días.fuera</th>
                    <th>Días.dentro</th>
                    <th>Cant.total.OP</th>
                    <th>Cant.total.OP.Ganadoras</th>
                    <th>Cant.total.OP.Perdedoras</th>

                    <th>Ganancia.Máxima</th>
                    <th>Perdida.Máxima</th>
                    <th>Perf.Total</th>
                    <th>Perf.Anualizada</th>
                    <th>Perf.Buy&Hold</th>
                    <th>Perf.Buy&Hold.Anualizada</th>

                    <th>EM</th>
                    <th>Racha.Ganadora</th>
                    <th>Racha.Perdedora</th>
                </tr>
            </tfoot>
        </table>
    </div>
    
</body>
</html>